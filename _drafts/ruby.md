---
layout: post
title: Шпаргалка по книге «Путь Ruby»
date: 2000-01-01
tags:
  - языки программирования
  - ruby
---

> TODO: добавить информацию о книге

> TODO: сгенерировать оглавление

## 1. Обзор Ruby

### 1.2. Базовый синтаксис и семантика Ruby

Имена переменных и других идентификаторов обычно начинаются с буквы или специального модификатора. Основные правила таковы:
- имена локальных переменных (и таких псевдопеременных, как `self` и `nil`) начинаются со строчной буквы или подчерка;
- имена глобальных переменных начинаются со знака доллара `$`;
- имена переменных экземпляра (принадлежащих объекту) начинаются со знака `@`;
- имена переменных класса (принадлежащих классу) начинаются с двух зна­ков `@`;
- имена констант начинаются с заглавной буквы;
- в именах идентификаторов подчерк `_` можно использовать наравне со строчными буквами;
- специальные переменные, имена которых начинаются со знака доллара (на­ пример, `$1` и `$/`), устанавливаются самим интерпретатором Ruby.

# 1.2.2. Комментарии и встроенная документация

Комментарии в RuЬy начинаются со знака решетки (`#`).

Комментарии, расположенные непосредственно перед определениями, обычно документируют то, что определяется ниже. Часто такую встроенную документа­цию можно извлечь из текста программы каким-нибудь внешним инструментом.

Типичный документирующий комментарий может занимать несколько соседних строк:

```ruby
# Назначение этого класса -
# излечить рак
# и установить мир во всем мире.
class ImpressiveClass
```

Весь текст, расположенный между строками, которые начинаются лексемами `=begin` и `=end` (включительно), игнорируется интерпретатором (этим лексемам не должны предшествовать пробелы).

```ruby
=begin
Все, что находится между
этими строками, также
является комментарием.
=end
```

# 1.2.3. Константы, переменные и типы

В об­щем случае строка, заключенная в двойные кавычки, допускает интерполянию вы­ражений, а заключенная в одиночные кавычки интерпретируется почти букваль­но -- в ней распознается только экранированная обратная косая черта.

```ruby
3 = 79
b = a
puts "#{а} умноженное на #{Ь}     #{a*b}"
```

Стоит упомянуть особую разновидность строк, которая полезна прежде всего в небольших скриптах, применяемых для объединения более крупных программ.

Строка, выводимая программой, посылается операционной системе в качестве подлежащей исполнению команды, а затем результат выполненной команды под­ставляется обратно в строку. В простейшей форме для этого применяются строки, заключенные в обратные кавычки. В более сложном варианте используется синтаксическая конструкция `%х`:

```ruby
'whoami'
'ls -l'
%x[grep -i meta *.html | wc -l]
```

Поскольку массивы строк встречаются очень часто (а набирать их неудобно), для них предусмотрен специальный синтаксис:

```ruby
%w[alpha beta gamma delta]
%w(Jan Feb Mar Apr Иау Jun Jul Aug Sep Oct Nov Dec)
%w/am is are was were Ье being been/
```

Ключи и значения в `Hash` разделяются символами `=>`:
```ruby
{1 => 1, 2 => 4, 3 => 9, 4 => 16, 5 => 25, 6 => 36}
{"cat" => "cats", "ох"=> "oxen", "bacterium" => "bacteria"}
{"odds" => [1,3,5,7], "evens" => [2,4,6,8]}
{"foo"=> 123, [4,5,6] =>"my array", "867-5309"=>"Jenny"}
```

# 1.2.4. Операторы и приоритеты

В приведенной ниже таблице они представлены в порядке убывания при­оритета:

| Оператор |
| -------- |
| ::       |
| []       |
| **       |
| + - ! ~     |
| * / %      |
| + -       |
| << >>     |
| &        |
| \| ^       |
| > >= < <= |
| == === <=> !== ~ !~ |
| &&       |
| \|\|       |
| .. ...   |
| = (также +=, ...) |
| ?:       |
| not      |
| and or   |
